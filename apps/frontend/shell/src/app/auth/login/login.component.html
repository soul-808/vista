<div class="login-bg">
  <!-- Main Content -->
  <main class="login-main">
    <!-- Image Card Above Login Card -->
    <div class="login-image-card">
      <img src="assets/images/vista-logo-tag.png" alt="Vista Login Hero" />
    </div>
    <div class="login-card">
      <div class="login-card-content">
        <div class="login-title">
          <h2>Welcome Back</h2>
          <p>Sign in to access your role-based dashboard</p>
        </div>

        <div *ngIf="errorMessage" class="login-error">
          <svg
            width="18"
            height="18"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
            class="icon-alert"
          >
            <circle cx="12" cy="12" r="10" />
            <line x1="12" y1="8" x2="12" y2="12" />
            <line x1="12" y1="16" x2="12.01" y2="16" />
          </svg>
          <span>{{ errorMessage }}</span>
        </div>

        <form
          [formGroup]="loginForm"
          (ngSubmit)="onSubmit()"
          class="login-form"
        >
          <div class="form-group">
            <label for="username">Username</label>
            <input
              id="username"
              type="text"
              formControlName="username"
              placeholder="Your username"
              [class.error]="
                loginForm.get('username')?.invalid &&
                loginForm.get('username')?.touched
              "
            />
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <div class="password-wrapper">
              <input
                id="password"
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                placeholder="••••••••"
                [class.error]="
                  loginForm.get('password')?.invalid &&
                  loginForm.get('password')?.touched
                "
              />
              <span class="icon-left">
                <svg
                  width="18"
                  height="18"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                >
                  <rect x="5" y="11" width="14" height="8" rx="2" />
                  <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                </svg>
              </span>
              <button
                type="button"
                class="icon-right"
                (click)="toggleShowPassword()"
                tabindex="-1"
              >
                <svg
                  *ngIf="!showPassword"
                  width="18"
                  height="18"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                >
                  <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" />
                  <circle cx="12" cy="12" r="3" />
                </svg>
                <svg
                  *ngIf="showPassword"
                  width="18"
                  height="18"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M17.94 17.94A10.06 10.06 0 0 1 12 19c-7 0-11-7-11-7a18.4 18.4 0 0 1 5.06-5.94M1 1l22 22"
                  />
                  <path d="M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47" />
                </svg>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="role">Sign in as</label>
            <select id="role" formControlName="role">
              <option *ngFor="let role of roles" [value]="role.value">
                {{ role.label }}
              </option>
            </select>
          </div>

          <div class="form-row-between">
            <div class="checkbox-group">
              <input
                id="rememberMe"
                type="checkbox"
                formControlName="rememberMe"
              />
              <label for="rememberMe">Remember me</label>
            </div>
            <a class="forgot-link" tabindex="0">Forgot password?</a>
          </div>

          <button type="submit" class="login-submit">Sign in</button>
        </form>
      </div>
      <div class="login-card-footer">
        <span>© 2025 Vista Platform • v3.7.1</span>
        <a class="help-link" tabindex="0">Need help?</a>
      </div>
    </div>
  </main>
</div>
